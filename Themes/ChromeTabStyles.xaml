<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    
    <!-- Chrome-style close button -->
    <Style x:Key="ChromeCloseButtonStyle" TargetType="Button">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="FontSize" Value="14"/>
        <Setter Property="Foreground" Value="#5A6069"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="Border" 
                            Background="{TemplateBinding Background}"
                            CornerRadius="2">
                        <ContentPresenter HorizontalAlignment="Center" 
                                        VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#E0E0E0"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter TargetName="Border" Property="Background" Value="#D0D0D0"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Chrome-style pinned tab template -->
    <ControlTemplate x:Key="ChromePinnedTabTemplate" TargetType="{x:Type TabItem}">
        <Border x:Name="TabBorder"
                Background="{StaticResource TabInactiveGradient}"
                BorderBrush="#D0D7DE"
                BorderThickness="1,1,1,0"
                CornerRadius="12,12,0,0"
                Margin="2,3,2,-1"
                Padding="0"
                RenderTransformOrigin="0.5,0.5">
            <Border.Effect>
                <DropShadowEffect x:Name="TabShadow" 
                                Color="#FF000000" 
                                Direction="270" 
                                ShadowDepth="2" 
                                BlurRadius="6" 
                                Opacity="0.1"/>
            </Border.Effect>
            
            <!-- Content presenter that switches based on pin state -->
            <ContentPresenter x:Name="ContentSite"
                            ContentSource="Header"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Margin="8,6,8,6"/>
        </Border>
        
        <ControlTemplate.Triggers>
            <!-- Pinned State Trigger -->
            <DataTrigger Binding="{Binding Tag.IsPinned, RelativeSource={RelativeSource Self}}" Value="True">
                <!-- Narrow the tab -->
                <Setter TargetName="TabBorder" Property="Width" Value="40"/>
                <Setter TargetName="TabBorder" Property="MinWidth" Value="40"/>
                <Setter TargetName="TabBorder" Property="MaxWidth" Value="40"/>
                
                <!-- Hide the normal content -->
                <Setter TargetName="ContentSite" Property="Visibility" Value="Collapsed"/>
                
                <!-- Show pinned icon -->
                <Setter Property="ContentTemplate">
                    <Setter.Value>
                        <DataTemplate>
                            <Image Width="20" Height="20" 
                                   Source="{DynamicResource FolderDotIcon}"
                                   RenderOptions.BitmapScalingMode="HighQuality"/>
                        </DataTemplate>
                    </Setter.Value>
                </Setter>
            </DataTrigger>
            
            <!-- Selected State -->
            <Trigger Property="IsSelected" Value="True">
                <Setter TargetName="TabBorder" Property="Background" Value="White"/>
                <Setter TargetName="TabBorder" Property="BorderBrush" Value="#0078D4"/>
                <Setter Property="Panel.ZIndex" Value="2"/>
            </Trigger>
        </ControlTemplate.Triggers>
    </ControlTemplate>

</ResourceDictionary> 